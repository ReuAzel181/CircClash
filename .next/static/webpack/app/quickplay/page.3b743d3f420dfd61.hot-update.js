"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/quickplay/page",{

/***/ "(app-pages-browser)/./lib/game.ts":
/*!*********************!*\
  !*** ./lib/game.ts ***!
  \*********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addHazard: function() { return /* binding */ addHazard; },\n/* harmony export */   addScore: function() { return /* binding */ addScore; },\n/* harmony export */   fireProjectile: function() { return /* binding */ fireProjectile; },\n/* harmony export */   getCurrentGame: function() { return /* binding */ getCurrentGame; },\n/* harmony export */   getGameEntities: function() { return /* binding */ getGameEntities; },\n/* harmony export */   getGameScore: function() { return /* binding */ getGameScore; },\n/* harmony export */   getPlayerEntity: function() { return /* binding */ getPlayerEntity; },\n/* harmony export */   isGameRunning: function() { return /* binding */ isGameRunning; },\n/* harmony export */   movePlayer: function() { return /* binding */ movePlayer; },\n/* harmony export */   pauseGame: function() { return /* binding */ pauseGame; },\n/* harmony export */   resumeGame: function() { return /* binding */ resumeGame; },\n/* harmony export */   setArenaSize: function() { return /* binding */ setArenaSize; },\n/* harmony export */   spawnBot: function() { return /* binding */ spawnBot; },\n/* harmony export */   spawnPlayer: function() { return /* binding */ spawnPlayer; },\n/* harmony export */   startGame: function() { return /* binding */ startGame; },\n/* harmony export */   stopGame: function() { return /* binding */ stopGame; },\n/* harmony export */   teleportPlayer: function() { return /* binding */ teleportPlayer; },\n/* harmony export */   updateBotAI: function() { return /* binding */ updateBotAI; }\n/* harmony export */ });\n/* harmony import */ var _physics__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./physics */ \"(app-pages-browser)/./lib/physics.ts\");\n// Game management layer - handles game state, entity spawning, and game loop control\n\nlet currentGame = null;\nlet gameLoop = null;\nlet lastFrameTime = 0;\n// Game lifecycle management\nfunction startGame(config) {\n    // Stop any existing game\n    if (currentGame) {\n        stopGame();\n    }\n    // Create new game state\n    const world = (0,_physics__WEBPACK_IMPORTED_MODULE_0__.createPhysicsWorld)(config.arenaWidth, config.arenaHeight);\n    currentGame = {\n        world,\n        isRunning: false,\n        isPaused: false,\n        startTime: Date.now(),\n        config,\n        players: new Map(),\n        score: new Map(),\n        roundNumber: 1\n    };\n    return currentGame;\n}\nfunction resumeGame() {\n    if (!currentGame || currentGame.isRunning) return;\n    currentGame.isRunning = true;\n    currentGame.isPaused = false;\n    lastFrameTime = performance.now();\n    // Start game loop\n    gameLoop = requestAnimationFrame(updateGame);\n}\nfunction pauseGame() {\n    if (!currentGame) return;\n    currentGame.isPaused = true;\n    currentGame.isRunning = false;\n    if (gameLoop) {\n        cancelAnimationFrame(gameLoop);\n        gameLoop = null;\n    }\n}\nfunction stopGame() {\n    if (gameLoop) {\n        cancelAnimationFrame(gameLoop);\n        gameLoop = null;\n    }\n    if (currentGame) {\n        currentGame.isRunning = false;\n        currentGame.isPaused = false;\n    }\n    currentGame = null;\n}\n// Main game loop with fixed timestep\nfunction updateGame(currentTime) {\n    if (!currentGame || !currentGame.isRunning) return;\n    const deltaTime = Math.min((currentTime - lastFrameTime) / 1000, 1 / 30) // Cap at 30fps minimum\n    ;\n    lastFrameTime = currentTime;\n    // Update AI for all bots\n    for (const [id, entity] of currentGame.world.entities){\n        if (entity.isBot && entity.health > 0) {\n            updateBotAI(id);\n        // Pure physics movement - no velocity modification\n        }\n    }\n    // Run physics simulation\n    (0,_physics__WEBPACK_IMPORTED_MODULE_0__.simulateStep)(currentGame.world, deltaTime);\n    // Check win conditions\n    checkWinConditions(currentGame);\n    // Remove powerup spawning - no powerups in arena\n    // if (currentGame.config.enablePowerups) {\n    //   spawnPowerups(currentGame)\n    // }\n    // Continue game loop\n    if (currentGame.isRunning) {\n        gameLoop = requestAnimationFrame(updateGame);\n    }\n}\n// Entity management\nfunction spawnPlayer(playerId, x, y, characterData) {\n    if (!currentGame) return null;\n    const player = (0,_physics__WEBPACK_IMPORTED_MODULE_0__.createCircleEntity)(playerId, x, y, 20, \"player\");\n    // Apply character-specific stats if provided\n    if (characterData) {\n        var _characterData_stats, _characterData_stats1, _characterData_stats2;\n        player.health = ((_characterData_stats = characterData.stats) === null || _characterData_stats === void 0 ? void 0 : _characterData_stats.defense) * 1.5 || 100;\n        player.maxHealth = player.health;\n        player.damage = ((_characterData_stats1 = characterData.stats) === null || _characterData_stats1 === void 0 ? void 0 : _characterData_stats1.damage) * 0.5 || 20;\n        // Speed affects max velocity, not current velocity\n        player.mass = Math.max(1, 50 - (((_characterData_stats2 = characterData.stats) === null || _characterData_stats2 === void 0 ? void 0 : _characterData_stats2.speed) || 50) * 0.3);\n    }\n    currentGame.world.entities.set(playerId, player);\n    currentGame.players.set(playerId, player);\n    currentGame.score.set(playerId, 0);\n    return player;\n}\nfunction spawnBot(botId, x, y) {\n    let difficulty = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : \"medium\";\n    if (!currentGame) return null;\n    const bot = (0,_physics__WEBPACK_IMPORTED_MODULE_0__.createCircleEntity)(botId, x, y, 20, \"player\");\n    // Apply difficulty-based stats - faster and more aggressive\n    switch(difficulty){\n        case \"easy\":\n            bot.health = 80;\n            bot.damage = 15;\n            bot.mass = 30 // Reduced mass for faster movement\n            ;\n            break;\n        case \"hard\":\n            bot.health = 120;\n            bot.damage = 30;\n            bot.mass = 20 // Very low mass for very fast movement\n            ;\n            break;\n        default:\n            bot.health = 100;\n            bot.damage = 20;\n            bot.mass = 25 // Reduced mass for faster movement\n            ;\n    }\n    bot.maxHealth = bot.health;\n    // Give initial random velocity for immediate bouncing movement\n    const initialSpeed = 200 + Math.random() * 300 // Random speed between 200-500\n    ;\n    const initialAngle = Math.random() * 2 * Math.PI // Random direction\n    ;\n    bot.velocity = _physics__WEBPACK_IMPORTED_MODULE_0__.Vector.create(Math.cos(initialAngle) * initialSpeed, Math.sin(initialAngle) * initialSpeed);\n    bot.isBot = true;\n    bot.aiTarget = null;\n    bot.aiCooldown = 0;\n    currentGame.world.entities.set(botId, bot);\n    currentGame.players.set(botId, bot);\n    currentGame.score.set(botId, 0);\n    return bot;\n}\nfunction fireProjectile(shooterId, direction, weaponData) {\n    if (!currentGame) return null;\n    const shooter = currentGame.world.entities.get(shooterId);\n    if (!shooter) return null;\n    // Calculate spawn position (slightly in front of shooter)\n    const spawnOffset = _physics__WEBPACK_IMPORTED_MODULE_0__.Vector.multiply(_physics__WEBPACK_IMPORTED_MODULE_0__.Vector.normalize(direction), shooter.radius + 10);\n    const spawnPos = _physics__WEBPACK_IMPORTED_MODULE_0__.Vector.add(shooter.position, spawnOffset);\n    const speed = (weaponData === null || weaponData === void 0 ? void 0 : weaponData.projectileSpeed) || 400;\n    const lifetime = (weaponData === null || weaponData === void 0 ? void 0 : weaponData.lifetime) || 3000;\n    const projectile = (0,_physics__WEBPACK_IMPORTED_MODULE_0__.createProjectile)(\"projectile_\".concat(Date.now(), \"_\").concat(Math.random().toString(36).substr(2, 9)), spawnPos.x, spawnPos.y, direction, speed, shooterId, lifetime);\n    // Apply weapon-specific properties\n    if (weaponData) {\n        projectile.damage = weaponData.baseDamage || 25;\n        projectile.radius = weaponData.radius || 5;\n        projectile.piercing = weaponData.piercing || 0;\n        projectile.hitsRemaining = projectile.piercing + 1;\n    }\n    projectile.spawnTime = Date.now();\n    currentGame.world.entities.set(projectile.id, projectile);\n    return projectile;\n}\nfunction movePlayer(playerId, direction) {\n    let force = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 800;\n    if (!currentGame) return;\n    const player = currentGame.world.entities.get(playerId);\n    if (!player || player.isStatic) return;\n    const moveForce = _physics__WEBPACK_IMPORTED_MODULE_0__.Vector.multiply(_physics__WEBPACK_IMPORTED_MODULE_0__.Vector.normalize(direction), force);\n    (0,_physics__WEBPACK_IMPORTED_MODULE_0__.addForce)(player, moveForce);\n}\nfunction teleportPlayer(playerId, x, y) {\n    if (!currentGame) return;\n    const player = currentGame.world.entities.get(playerId);\n    if (!player) return;\n    player.position = _physics__WEBPACK_IMPORTED_MODULE_0__.Vector.create(x, y);\n    player.velocity = _physics__WEBPACK_IMPORTED_MODULE_0__.Vector.create() // Stop movement\n    ;\n}\n// Arena management\nfunction setArenaSize(width, height) {\n    if (!currentGame) return;\n    currentGame.world.bounds = {\n        width,\n        height\n    };\n    currentGame.config.arenaWidth = width;\n    currentGame.config.arenaHeight = height;\n}\nfunction addHazard(x, y, radius, damage) {\n    if (!currentGame) throw new Error(\"No active game\");\n    const hazard = (0,_physics__WEBPACK_IMPORTED_MODULE_0__.createCircleEntity)(\"hazard_\".concat(Date.now(), \"_\").concat(Math.random().toString(36).substr(2, 9)), x, y, radius, \"hazard\");\n    hazard.isStatic = true;\n    hazard.damage = damage;\n    hazard.health = Infinity;\n    currentGame.world.entities.set(hazard.id, hazard);\n    return hazard;\n}\n// Power-up system\nlet lastPowerupSpawn = 0;\nconst powerupSpawnInterval = 10000 // 10 seconds\n;\nfunction spawnPowerups(game) {\n    const now = Date.now();\n    if (now - lastPowerupSpawn < powerupSpawnInterval) return;\n    // Don't spawn too many powerups\n    const existingPowerups = Array.from(game.world.entities.values()).filter((e)=>e.type === \"pickup\");\n    if (existingPowerups.length >= 3) return;\n    // Random spawn location\n    const x = Math.random() * (game.config.arenaWidth - 100) + 50;\n    const y = Math.random() * (game.config.arenaHeight - 100) + 50;\n    const powerupTypes = [\n        \"health\",\n        \"speed\",\n        \"damage\",\n        \"shield\"\n    ];\n    const type = powerupTypes[Math.floor(Math.random() * powerupTypes.length)];\n    const powerup = (0,_physics__WEBPACK_IMPORTED_MODULE_0__.createCircleEntity)(\"powerup_\".concat(type, \"_\").concat(Date.now()), x, y, 12, \"pickup\");\n    powerup.isStatic = true;\n    powerup.powerupType = type;\n    powerup.spawnTime = now;\n    powerup.lifetime = 20000 // 20 seconds\n    ;\n    game.world.entities.set(powerup.id, powerup);\n    lastPowerupSpawn = now;\n}\n// Win condition checking\nfunction checkWinConditions(game) {\n    const alivePlayers = Array.from(game.players.values()).filter((p)=>p.health > 0);\n    if (alivePlayers.length <= 1 && game.players.size > 1) {\n        // Game over\n        game.isRunning = false;\n        if (alivePlayers.length === 1) {\n            game.winner = alivePlayers[0].id;\n        }\n        // Dispatch game over event\n        window.dispatchEvent(new CustomEvent(\"gameOver\", {\n            detail: {\n                winner: game.winner,\n                scores: Object.fromEntries(game.score),\n                duration: Date.now() - game.startTime\n            }\n        }));\n    }\n}\n// Simple AI for bots\nfunction updateBotAI(botId) {\n    if (!currentGame) return;\n    const bot = currentGame.world.entities.get(botId);\n    if (!bot || !bot.isBot || bot.health <= 0) return;\n    const now = Date.now();\n    if (bot.aiCooldown > now) return;\n    // DO NOT modify velocity - let physics handle movement\n    // Characters should only change direction when bouncing off walls/entities\n    // Find nearest enemy for targeting (shooting only)\n    let nearestEnemy = null;\n    let nearestDistance = Infinity;\n    for (const [id, entity] of currentGame.world.entities){\n        if (id === botId || entity.type !== \"player\" || entity.health <= 0) continue;\n        const distance = _physics__WEBPACK_IMPORTED_MODULE_0__.Vector.distance(bot.position, entity.position);\n        if (distance < nearestDistance) {\n            nearestDistance = distance;\n            nearestEnemy = entity;\n        }\n    }\n    if (nearestEnemy && nearestDistance < 400) {\n        // Predict where the enemy will be (lead the target)\n        const timeToReach = nearestDistance / 450 // Assuming projectile speed of 450\n        ;\n        const predictedPosition = _physics__WEBPACK_IMPORTED_MODULE_0__.Vector.add(nearestEnemy.position, _physics__WEBPACK_IMPORTED_MODULE_0__.Vector.multiply(nearestEnemy.velocity, timeToReach));\n        const directionToPredicted = _physics__WEBPACK_IMPORTED_MODULE_0__.Vector.subtract(predictedPosition, bot.position);\n        const normalizedDirection = _physics__WEBPACK_IMPORTED_MODULE_0__.Vector.normalize(directionToPredicted);\n        // Fire at predicted position\n        const characterType = botId.includes(\"vortex\") ? \"vortex\" : botId.includes(\"guardian\") ? \"guardian\" : botId.includes(\"striker\") ? \"striker\" : botId.includes(\"mystic\") ? \"mystic\" : botId.includes(\"flame\") ? \"flame\" : botId.includes(\"frost\") ? \"frost\" : botId.includes(\"shadow\") ? \"shadow\" : botId.includes(\"titan\") ? \"titan\" : \"default\";\n        // Add slight random spread for more dynamic combat\n        const aimOffset = _physics__WEBPACK_IMPORTED_MODULE_0__.Vector.create((Math.random() - 0.5) * 50, (Math.random() - 0.5) * 50);\n        const finalAimDirection = _physics__WEBPACK_IMPORTED_MODULE_0__.Vector.add(normalizedDirection, _physics__WEBPACK_IMPORTED_MODULE_0__.Vector.multiply(aimOffset, 0.05));\n        fireCharacterSpecificAttack(botId, finalAimDirection, characterType);\n        bot.aiCooldown = now + 300 // Fast firing rate\n        ;\n    } else {\n        // Occasionally shoot randomly when no enemies nearby\n        if (Math.random() < 0.01) {\n            const randomDirection = _physics__WEBPACK_IMPORTED_MODULE_0__.Vector.create((Math.random() - 0.5) * 2, (Math.random() - 0.5) * 2);\n            const characterType = botId.includes(\"vortex\") ? \"vortex\" : botId.includes(\"guardian\") ? \"guardian\" : botId.includes(\"striker\") ? \"striker\" : botId.includes(\"mystic\") ? \"mystic\" : botId.includes(\"flame\") ? \"flame\" : botId.includes(\"frost\") ? \"frost\" : botId.includes(\"shadow\") ? \"shadow\" : botId.includes(\"titan\") ? \"titan\" : \"default\";\n            fireCharacterSpecificAttack(botId, _physics__WEBPACK_IMPORTED_MODULE_0__.Vector.normalize(randomDirection), characterType);\n            bot.aiCooldown = now + 800;\n        }\n    }\n}\n// Aim at predicted position with some accuracy variation\n// Character-specific attack function\nfunction fireCharacterSpecificAttack(botId, direction, characterType) {\n    switch(characterType){\n        case \"vortex\":\n            // Plasma Vortex - fires spinning projectiles\n            for(let i = 0; i < 3; i++){\n                const angle = (i - 1) * 0.3 // Spread shots\n                ;\n                const rotatedDir = _physics__WEBPACK_IMPORTED_MODULE_0__.Vector.create(direction.x * Math.cos(angle) - direction.y * Math.sin(angle), direction.x * Math.sin(angle) + direction.y * Math.cos(angle));\n                fireProjectile(botId, rotatedDir, {\n                    baseDamage: 8,\n                    projectileSpeed: 500\n                }) // Reduced from 20 to 8\n                ;\n            }\n            break;\n        case \"striker\":\n            // Lightning Striker - fast single shot\n            fireProjectile(botId, direction, {\n                baseDamage: 12,\n                projectileSpeed: 700\n            }) // Reduced from 35 to 12\n            ;\n            break;\n        case \"guardian\":\n            // Steel Guardian - slower but powerful shot\n            fireProjectile(botId, direction, {\n                baseDamage: 15,\n                projectileSpeed: 300,\n                radius: 8\n            }) // Reduced from 40 to 15\n            ;\n            break;\n        case \"mystic\":\n            // Mystic Orb - magical projectile with slight homing\n            const aimOffset = _physics__WEBPACK_IMPORTED_MODULE_0__.Vector.create((Math.random() - 0.5) * 20, (Math.random() - 0.5) * 20);\n            const aimDirection = _physics__WEBPACK_IMPORTED_MODULE_0__.Vector.add(direction, _physics__WEBPACK_IMPORTED_MODULE_0__.Vector.multiply(aimOffset, 0.05));\n            fireProjectile(botId, aimDirection, {\n                baseDamage: 10,\n                projectileSpeed: 450\n            }) // Reduced from 25 to 10\n            ;\n            break;\n        case \"flame\":\n            // Fire Warrior - fire burst (multiple small projectiles)\n            for(let i = 0; i < 5; i++){\n                const angle = (i - 2) * 0.2;\n                const rotatedDir = _physics__WEBPACK_IMPORTED_MODULE_0__.Vector.create(direction.x * Math.cos(angle) - direction.y * Math.sin(angle), direction.x * Math.sin(angle) + direction.y * Math.cos(angle));\n                fireProjectile(botId, rotatedDir, {\n                    baseDamage: 6,\n                    projectileSpeed: 400,\n                    radius: 4\n                }) // Reduced from 15 to 6\n                ;\n            }\n            break;\n        case \"frost\":\n            // Ice Knight - slow but large projectile\n            fireProjectile(botId, direction, {\n                baseDamage: 12,\n                projectileSpeed: 250,\n                radius: 10\n            }) // Reduced from 30 to 12\n            ;\n            break;\n        case \"shadow\":\n            // Shadow Assassin - rapid small shots\n            fireProjectile(botId, direction, {\n                baseDamage: 10,\n                projectileSpeed: 600,\n                radius: 3\n            }) // Reduced from 25 to 10\n            ;\n            break;\n        case \"titan\":\n            // Iron Titan - massive slow projectile\n            fireProjectile(botId, direction, {\n                baseDamage: 18,\n                projectileSpeed: 200,\n                radius: 12\n            }) // Reduced from 50 to 18\n            ;\n            break;\n        default:\n            // Default attack\n            fireProjectile(botId, direction, {\n                baseDamage: 25,\n                projectileSpeed: 450\n            });\n            break;\n    }\n}\n// Game state accessors\nfunction getCurrentGame() {\n    return currentGame;\n}\nfunction getGameEntities() {\n    if (!currentGame) return [];\n    return Array.from(currentGame.world.entities.values());\n}\nfunction getPlayerEntity(playerId) {\n    if (!currentGame) return null;\n    return currentGame.world.entities.get(playerId) || null;\n}\nfunction isGameRunning() {\n    return (currentGame === null || currentGame === void 0 ? void 0 : currentGame.isRunning) || false;\n}\nfunction getGameScore(playerId) {\n    if (!currentGame) return 0;\n    return currentGame.score.get(playerId) || 0;\n}\nfunction addScore(playerId, points) {\n    if (!currentGame) return;\n    const currentScore = currentGame.score.get(playerId) || 0;\n    currentGame.score.set(playerId, currentScore + points);\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TztJQUN6QixPQUFPQSxZQUFZTSxLQUFLLENBQUN3QixRQUFRLENBQUNzQyxHQUFHLENBQUNoQyxhQUFhO0FBQ3JEO0FBRU8sU0FBUytHO0lBQ2QsT0FBT25KLENBQUFBLHdCQUFBQSxrQ0FBQUEsWUFBYVMsU0FBUyxLQUFJO0FBQ25DO0FBRU8sU0FBUzJJLGFBQWFoSCxRQUFnQjtJQUMzQyxJQUFJLENBQUNwQyxhQUFhLE9BQU87SUFDekIsT0FBT0EsWUFBWWdCLEtBQUssQ0FBQ29ELEdBQUcsQ0FBQ2hDLGFBQWE7QUFDNUM7QUFFTyxTQUFTaUgsU0FBU2pILFFBQWdCLEVBQUVrSCxNQUFjO0lBQ3ZELElBQUksQ0FBQ3RKLGFBQWE7SUFDbEIsTUFBTXVKLGVBQWV2SixZQUFZZ0IsS0FBSyxDQUFDb0QsR0FBRyxDQUFDaEMsYUFBYTtJQUN4RHBDLFlBQVlnQixLQUFLLENBQUNnQyxHQUFHLENBQUNaLFVBQVVtSCxlQUFlRDtBQUNqRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9saWIvZ2FtZS50cz9iNGQ4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEdhbWUgbWFuYWdlbWVudCBsYXllciAtIGhhbmRsZXMgZ2FtZSBzdGF0ZSwgZW50aXR5IHNwYXduaW5nLCBhbmQgZ2FtZSBsb29wIGNvbnRyb2xcclxuXHJcbmltcG9ydCB7IFxyXG4gIFBoeXNpY3NXb3JsZCwgXHJcbiAgQ2lyY2xlRW50aXR5LCBcclxuICBQcm9qZWN0aWxlLFxyXG4gIGNyZWF0ZVBoeXNpY3NXb3JsZCwgXHJcbiAgY3JlYXRlQ2lyY2xlRW50aXR5LCBcclxuICBjcmVhdGVQcm9qZWN0aWxlLFxyXG4gIHNpbXVsYXRlU3RlcCxcclxuICBWZWN0b3IsXHJcbiAgYWRkRm9yY2VcclxufSBmcm9tICcuL3BoeXNpY3MnXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEdhbWVDb25maWcge1xyXG4gIGFyZW5hV2lkdGg6IG51bWJlclxyXG4gIGFyZW5hSGVpZ2h0OiBudW1iZXJcclxuICBtb2RlOiAncm91bGV0dGUnIHwgJ2JhdHRsZXJveWFsZScgfCAnc3RvcnknIHwgJ2N1c3RvbSdcclxuICBtYXhQbGF5ZXJzOiBudW1iZXJcclxuICBlbmFibGVQb3dlcnVwczogYm9vbGVhblxyXG4gIGVuYWJsZUhhemFyZHM6IGJvb2xlYW5cclxuICBtYXRjaER1cmF0aW9uPzogbnVtYmVyIC8vIGluIG1pbGxpc2Vjb25kc1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEdhbWVTdGF0ZSB7XHJcbiAgd29ybGQ6IFBoeXNpY3NXb3JsZFxyXG4gIGlzUnVubmluZzogYm9vbGVhblxyXG4gIGlzUGF1c2VkOiBib29sZWFuXHJcbiAgc3RhcnRUaW1lOiBudW1iZXJcclxuICBjb25maWc6IEdhbWVDb25maWdcclxuICBwbGF5ZXJzOiBNYXA8c3RyaW5nLCBDaXJjbGVFbnRpdHk+XHJcbiAgc2NvcmU6IE1hcDxzdHJpbmcsIG51bWJlcj5cclxuICB3aW5uZXI/OiBzdHJpbmdcclxuICByb3VuZE51bWJlcjogbnVtYmVyXHJcbn1cclxuXHJcbmxldCBjdXJyZW50R2FtZTogR2FtZVN0YXRlIHwgbnVsbCA9IG51bGxcclxubGV0IGdhbWVMb29wOiBudW1iZXIgfCBudWxsID0gbnVsbFxyXG5sZXQgbGFzdEZyYW1lVGltZSA9IDBcclxuXHJcbi8vIEdhbWUgbGlmZWN5Y2xlIG1hbmFnZW1lbnRcclxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0R2FtZShjb25maWc6IEdhbWVDb25maWcpOiBHYW1lU3RhdGUge1xyXG4gIC8vIFN0b3AgYW55IGV4aXN0aW5nIGdhbWVcclxuICBpZiAoY3VycmVudEdhbWUpIHtcclxuICAgIHN0b3BHYW1lKClcclxuICB9XHJcblxyXG4gIC8vIENyZWF0ZSBuZXcgZ2FtZSBzdGF0ZVxyXG4gIGNvbnN0IHdvcmxkID0gY3JlYXRlUGh5c2ljc1dvcmxkKGNvbmZpZy5hcmVuYVdpZHRoLCBjb25maWcuYXJlbmFIZWlnaHQpXHJcbiAgXHJcbiAgY3VycmVudEdhbWUgPSB7XHJcbiAgICB3b3JsZCxcclxuICAgIGlzUnVubmluZzogZmFsc2UsXHJcbiAgICBpc1BhdXNlZDogZmFsc2UsXHJcbiAgICBzdGFydFRpbWU6IERhdGUubm93KCksXHJcbiAgICBjb25maWcsXHJcbiAgICBwbGF5ZXJzOiBuZXcgTWFwKCksXHJcbiAgICBzY29yZTogbmV3IE1hcCgpLFxyXG4gICAgcm91bmROdW1iZXI6IDFcclxuICB9XHJcblxyXG4gIHJldHVybiBjdXJyZW50R2FtZVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVzdW1lR2FtZSgpOiB2b2lkIHtcclxuICBpZiAoIWN1cnJlbnRHYW1lIHx8IGN1cnJlbnRHYW1lLmlzUnVubmluZykgcmV0dXJuXHJcbiAgXHJcbiAgY3VycmVudEdhbWUuaXNSdW5uaW5nID0gdHJ1ZVxyXG4gIGN1cnJlbnRHYW1lLmlzUGF1c2VkID0gZmFsc2VcclxuICBsYXN0RnJhbWVUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcclxuICBcclxuICAvLyBTdGFydCBnYW1lIGxvb3BcclxuICBnYW1lTG9vcCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGVHYW1lKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcGF1c2VHYW1lKCk6IHZvaWQge1xyXG4gIGlmICghY3VycmVudEdhbWUpIHJldHVyblxyXG4gIFxyXG4gIGN1cnJlbnRHYW1lLmlzUGF1c2VkID0gdHJ1ZVxyXG4gIGN1cnJlbnRHYW1lLmlzUnVubmluZyA9IGZhbHNlXHJcbiAgXHJcbiAgaWYgKGdhbWVMb29wKSB7XHJcbiAgICBjYW5jZWxBbmltYXRpb25GcmFtZShnYW1lTG9vcClcclxuICAgIGdhbWVMb29wID0gbnVsbFxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN0b3BHYW1lKCk6IHZvaWQge1xyXG4gIGlmIChnYW1lTG9vcCkge1xyXG4gICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApXHJcbiAgICBnYW1lTG9vcCA9IG51bGxcclxuICB9XHJcbiAgXHJcbiAgaWYgKGN1cnJlbnRHYW1lKSB7XHJcbiAgICBjdXJyZW50R2FtZS5pc1J1bm5pbmcgPSBmYWxzZVxyXG4gICAgY3VycmVudEdhbWUuaXNQYXVzZWQgPSBmYWxzZVxyXG4gIH1cclxuICBcclxuICBjdXJyZW50R2FtZSA9IG51bGxcclxufVxyXG5cclxuLy8gTWFpbiBnYW1lIGxvb3Agd2l0aCBmaXhlZCB0aW1lc3RlcFxyXG5mdW5jdGlvbiB1cGRhdGVHYW1lKGN1cnJlbnRUaW1lOiBudW1iZXIpOiB2b2lkIHtcclxuICBpZiAoIWN1cnJlbnRHYW1lIHx8ICFjdXJyZW50R2FtZS5pc1J1bm5pbmcpIHJldHVyblxyXG4gIFxyXG4gIGNvbnN0IGRlbHRhVGltZSA9IE1hdGgubWluKChjdXJyZW50VGltZSAtIGxhc3RGcmFtZVRpbWUpIC8gMTAwMCwgMS8zMCkgLy8gQ2FwIGF0IDMwZnBzIG1pbmltdW1cclxuICBsYXN0RnJhbWVUaW1lID0gY3VycmVudFRpbWVcclxuICBcclxuICAvLyBVcGRhdGUgQUkgZm9yIGFsbCBib3RzXHJcbiAgZm9yIChjb25zdCBbaWQsIGVudGl0eV0gb2YgY3VycmVudEdhbWUud29ybGQuZW50aXRpZXMpIHtcclxuICAgIGlmICgoZW50aXR5IGFzIGFueSkuaXNCb3QgJiYgZW50aXR5LmhlYWx0aCA+IDApIHtcclxuICAgICAgdXBkYXRlQm90QUkoaWQpXHJcbiAgICAgIC8vIFB1cmUgcGh5c2ljcyBtb3ZlbWVudCAtIG5vIHZlbG9jaXR5IG1vZGlmaWNhdGlvblxyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICAvLyBSdW4gcGh5c2ljcyBzaW11bGF0aW9uXHJcbiAgc2ltdWxhdGVTdGVwKGN1cnJlbnRHYW1lLndvcmxkLCBkZWx0YVRpbWUpXHJcbiAgXHJcbiAgLy8gQ2hlY2sgd2luIGNvbmRpdGlvbnNcclxuICBjaGVja1dpbkNvbmRpdGlvbnMoY3VycmVudEdhbWUpXHJcbiAgXHJcbiAgLy8gUmVtb3ZlIHBvd2VydXAgc3Bhd25pbmcgLSBubyBwb3dlcnVwcyBpbiBhcmVuYVxyXG4gIC8vIGlmIChjdXJyZW50R2FtZS5jb25maWcuZW5hYmxlUG93ZXJ1cHMpIHtcclxuICAvLyAgIHNwYXduUG93ZXJ1cHMoY3VycmVudEdhbWUpXHJcbiAgLy8gfVxyXG4gIFxyXG4gIC8vIENvbnRpbnVlIGdhbWUgbG9vcFxyXG4gIGlmIChjdXJyZW50R2FtZS5pc1J1bm5pbmcpIHtcclxuICAgIGdhbWVMb29wID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZUdhbWUpXHJcbiAgfVxyXG59XHJcblxyXG4vLyBFbnRpdHkgbWFuYWdlbWVudFxyXG5leHBvcnQgZnVuY3Rpb24gc3Bhd25QbGF5ZXIoXHJcbiAgcGxheWVySWQ6IHN0cmluZywgXHJcbiAgeDogbnVtYmVyLCBcclxuICB5OiBudW1iZXIsIFxyXG4gIGNoYXJhY3RlckRhdGE/OiBhbnlcclxuKTogQ2lyY2xlRW50aXR5IHwgbnVsbCB7XHJcbiAgaWYgKCFjdXJyZW50R2FtZSkgcmV0dXJuIG51bGxcclxuICBcclxuICBjb25zdCBwbGF5ZXIgPSBjcmVhdGVDaXJjbGVFbnRpdHkocGxheWVySWQsIHgsIHksIDIwLCAncGxheWVyJylcclxuICBcclxuICAvLyBBcHBseSBjaGFyYWN0ZXItc3BlY2lmaWMgc3RhdHMgaWYgcHJvdmlkZWRcclxuICBpZiAoY2hhcmFjdGVyRGF0YSkge1xyXG4gICAgcGxheWVyLmhlYWx0aCA9IGNoYXJhY3RlckRhdGEuc3RhdHM/LmRlZmVuc2UgKiAxLjUgfHwgMTAwXHJcbiAgICBwbGF5ZXIubWF4SGVhbHRoID0gcGxheWVyLmhlYWx0aFxyXG4gICAgcGxheWVyLmRhbWFnZSA9IGNoYXJhY3RlckRhdGEuc3RhdHM/LmRhbWFnZSAqIDAuNSB8fCAyMFxyXG4gICAgLy8gU3BlZWQgYWZmZWN0cyBtYXggdmVsb2NpdHksIG5vdCBjdXJyZW50IHZlbG9jaXR5XHJcbiAgICBwbGF5ZXIubWFzcyA9IE1hdGgubWF4KDEsIDUwIC0gKGNoYXJhY3RlckRhdGEuc3RhdHM/LnNwZWVkIHx8IDUwKSAqIDAuMylcclxuICB9XHJcbiAgXHJcbiAgY3VycmVudEdhbWUud29ybGQuZW50aXRpZXMuc2V0KHBsYXllcklkLCBwbGF5ZXIpXHJcbiAgY3VycmVudEdhbWUucGxheWVycy5zZXQocGxheWVySWQsIHBsYXllcilcclxuICBjdXJyZW50R2FtZS5zY29yZS5zZXQocGxheWVySWQsIDApXHJcbiAgXHJcbiAgcmV0dXJuIHBsYXllclxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3Bhd25Cb3QoXHJcbiAgYm90SWQ6IHN0cmluZyxcclxuICB4OiBudW1iZXIsXHJcbiAgeTogbnVtYmVyLFxyXG4gIGRpZmZpY3VsdHk6ICdlYXN5JyB8ICdtZWRpdW0nIHwgJ2hhcmQnID0gJ21lZGl1bSdcclxuKTogQ2lyY2xlRW50aXR5IHwgbnVsbCB7XHJcbiAgaWYgKCFjdXJyZW50R2FtZSkgcmV0dXJuIG51bGxcclxuICBcclxuICBjb25zdCBib3QgPSBjcmVhdGVDaXJjbGVFbnRpdHkoYm90SWQsIHgsIHksIDIwLCAncGxheWVyJylcclxuICBcclxuICAvLyBBcHBseSBkaWZmaWN1bHR5LWJhc2VkIHN0YXRzIC0gZmFzdGVyIGFuZCBtb3JlIGFnZ3Jlc3NpdmVcclxuICBzd2l0Y2ggKGRpZmZpY3VsdHkpIHtcclxuICAgIGNhc2UgJ2Vhc3knOlxyXG4gICAgICBib3QuaGVhbHRoID0gODBcclxuICAgICAgYm90LmRhbWFnZSA9IDE1XHJcbiAgICAgIGJvdC5tYXNzID0gMzAgLy8gUmVkdWNlZCBtYXNzIGZvciBmYXN0ZXIgbW92ZW1lbnRcclxuICAgICAgYnJlYWtcclxuICAgIGNhc2UgJ2hhcmQnOlxyXG4gICAgICBib3QuaGVhbHRoID0gMTIwXHJcbiAgICAgIGJvdC5kYW1hZ2UgPSAzMFxyXG4gICAgICBib3QubWFzcyA9IDIwIC8vIFZlcnkgbG93IG1hc3MgZm9yIHZlcnkgZmFzdCBtb3ZlbWVudFxyXG4gICAgICBicmVha1xyXG4gICAgZGVmYXVsdDogLy8gbWVkaXVtXHJcbiAgICAgIGJvdC5oZWFsdGggPSAxMDBcclxuICAgICAgYm90LmRhbWFnZSA9IDIwXHJcbiAgICAgIGJvdC5tYXNzID0gMjUgLy8gUmVkdWNlZCBtYXNzIGZvciBmYXN0ZXIgbW92ZW1lbnRcclxuICB9XHJcbiAgXHJcbiAgYm90Lm1heEhlYWx0aCA9IGJvdC5oZWFsdGhcclxuICBcclxuICAvLyBHaXZlIGluaXRpYWwgcmFuZG9tIHZlbG9jaXR5IGZvciBpbW1lZGlhdGUgYm91bmNpbmcgbW92ZW1lbnRcclxuICBjb25zdCBpbml0aWFsU3BlZWQgPSAyMDAgKyBNYXRoLnJhbmRvbSgpICogMzAwIC8vIFJhbmRvbSBzcGVlZCBiZXR3ZWVuIDIwMC01MDBcclxuICBjb25zdCBpbml0aWFsQW5nbGUgPSBNYXRoLnJhbmRvbSgpICogMiAqIE1hdGguUEkgLy8gUmFuZG9tIGRpcmVjdGlvblxyXG4gIGJvdC52ZWxvY2l0eSA9IFZlY3Rvci5jcmVhdGUoXHJcbiAgICBNYXRoLmNvcyhpbml0aWFsQW5nbGUpICogaW5pdGlhbFNwZWVkLFxyXG4gICAgTWF0aC5zaW4oaW5pdGlhbEFuZ2xlKSAqIGluaXRpYWxTcGVlZFxyXG4gIClcclxuICBcclxuICAvLyBBZGQgc2ltcGxlIEFJIGJlaGF2aW9yXHJcbiAgOyhib3QgYXMgYW55KS5pc0JvdCA9IHRydWVcclxuICA7KGJvdCBhcyBhbnkpLmFpVGFyZ2V0ID0gbnVsbFxyXG4gIDsoYm90IGFzIGFueSkuYWlDb29sZG93biA9IDBcclxuICBcclxuICBjdXJyZW50R2FtZS53b3JsZC5lbnRpdGllcy5zZXQoYm90SWQsIGJvdClcclxuICBjdXJyZW50R2FtZS5wbGF5ZXJzLnNldChib3RJZCwgYm90KVxyXG4gIGN1cnJlbnRHYW1lLnNjb3JlLnNldChib3RJZCwgMClcclxuICBcclxuICByZXR1cm4gYm90XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmaXJlUHJvamVjdGlsZShcclxuICBzaG9vdGVySWQ6IHN0cmluZyxcclxuICBkaXJlY3Rpb246IFZlY3RvcixcclxuICB3ZWFwb25EYXRhPzogYW55XHJcbik6IFByb2plY3RpbGUgfCBudWxsIHtcclxuICBpZiAoIWN1cnJlbnRHYW1lKSByZXR1cm4gbnVsbFxyXG4gIFxyXG4gIGNvbnN0IHNob290ZXIgPSBjdXJyZW50R2FtZS53b3JsZC5lbnRpdGllcy5nZXQoc2hvb3RlcklkKVxyXG4gIGlmICghc2hvb3RlcikgcmV0dXJuIG51bGxcclxuICBcclxuICAvLyBDYWxjdWxhdGUgc3Bhd24gcG9zaXRpb24gKHNsaWdodGx5IGluIGZyb250IG9mIHNob290ZXIpXHJcbiAgY29uc3Qgc3Bhd25PZmZzZXQgPSBWZWN0b3IubXVsdGlwbHkoVmVjdG9yLm5vcm1hbGl6ZShkaXJlY3Rpb24pLCBzaG9vdGVyLnJhZGl1cyArIDEwKVxyXG4gIGNvbnN0IHNwYXduUG9zID0gVmVjdG9yLmFkZChzaG9vdGVyLnBvc2l0aW9uLCBzcGF3bk9mZnNldClcclxuICBcclxuICBjb25zdCBzcGVlZCA9IHdlYXBvbkRhdGE/LnByb2plY3RpbGVTcGVlZCB8fCA0MDBcclxuICBjb25zdCBsaWZldGltZSA9IHdlYXBvbkRhdGE/LmxpZmV0aW1lIHx8IDMwMDBcclxuICBcclxuICBjb25zdCBwcm9qZWN0aWxlID0gY3JlYXRlUHJvamVjdGlsZShcclxuICAgIGBwcm9qZWN0aWxlXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YCxcclxuICAgIHNwYXduUG9zLngsXHJcbiAgICBzcGF3blBvcy55LFxyXG4gICAgZGlyZWN0aW9uLFxyXG4gICAgc3BlZWQsXHJcbiAgICBzaG9vdGVySWQsXHJcbiAgICBsaWZldGltZVxyXG4gIClcclxuICBcclxuICAvLyBBcHBseSB3ZWFwb24tc3BlY2lmaWMgcHJvcGVydGllc1xyXG4gIGlmICh3ZWFwb25EYXRhKSB7XHJcbiAgICBwcm9qZWN0aWxlLmRhbWFnZSA9IHdlYXBvbkRhdGEuYmFzZURhbWFnZSB8fCAyNVxyXG4gICAgcHJvamVjdGlsZS5yYWRpdXMgPSB3ZWFwb25EYXRhLnJhZGl1cyB8fCA1XHJcbiAgICBwcm9qZWN0aWxlLnBpZXJjaW5nID0gd2VhcG9uRGF0YS5waWVyY2luZyB8fCAwXHJcbiAgICBwcm9qZWN0aWxlLmhpdHNSZW1haW5pbmcgPSBwcm9qZWN0aWxlLnBpZXJjaW5nICsgMVxyXG4gIH1cclxuICBcclxuICAvLyBTdG9yZSBzcGF3biB0aW1lIGZvciBsaWZldGltZSBjYWxjdWxhdGlvblxyXG4gIDsocHJvamVjdGlsZSBhcyBhbnkpLnNwYXduVGltZSA9IERhdGUubm93KClcclxuICBcclxuICBjdXJyZW50R2FtZS53b3JsZC5lbnRpdGllcy5zZXQocHJvamVjdGlsZS5pZCwgcHJvamVjdGlsZSlcclxuICBcclxuICByZXR1cm4gcHJvamVjdGlsZVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbW92ZVBsYXllcihwbGF5ZXJJZDogc3RyaW5nLCBkaXJlY3Rpb246IFZlY3RvciwgZm9yY2U6IG51bWJlciA9IDgwMCk6IHZvaWQge1xyXG4gIGlmICghY3VycmVudEdhbWUpIHJldHVyblxyXG4gIFxyXG4gIGNvbnN0IHBsYXllciA9IGN1cnJlbnRHYW1lLndvcmxkLmVudGl0aWVzLmdldChwbGF5ZXJJZClcclxuICBpZiAoIXBsYXllciB8fCBwbGF5ZXIuaXNTdGF0aWMpIHJldHVyblxyXG4gIFxyXG4gIGNvbnN0IG1vdmVGb3JjZSA9IFZlY3Rvci5tdWx0aXBseShWZWN0b3Iubm9ybWFsaXplKGRpcmVjdGlvbiksIGZvcmNlKVxyXG4gIGFkZEZvcmNlKHBsYXllciwgbW92ZUZvcmNlKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdGVsZXBvcnRQbGF5ZXIocGxheWVySWQ6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcclxuICBpZiAoIWN1cnJlbnRHYW1lKSByZXR1cm5cclxuICBcclxuICBjb25zdCBwbGF5ZXIgPSBjdXJyZW50R2FtZS53b3JsZC5lbnRpdGllcy5nZXQocGxheWVySWQpXHJcbiAgaWYgKCFwbGF5ZXIpIHJldHVyblxyXG4gIFxyXG4gIHBsYXllci5wb3NpdGlvbiA9IFZlY3Rvci5jcmVhdGUoeCwgeSlcclxuICBwbGF5ZXIudmVsb2NpdHkgPSBWZWN0b3IuY3JlYXRlKCkgLy8gU3RvcCBtb3ZlbWVudFxyXG59XHJcblxyXG4vLyBBcmVuYSBtYW5hZ2VtZW50XHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRBcmVuYVNpemUod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiB2b2lkIHtcclxuICBpZiAoIWN1cnJlbnRHYW1lKSByZXR1cm5cclxuICBcclxuICBjdXJyZW50R2FtZS53b3JsZC5ib3VuZHMgPSB7IHdpZHRoLCBoZWlnaHQgfVxyXG4gIGN1cnJlbnRHYW1lLmNvbmZpZy5hcmVuYVdpZHRoID0gd2lkdGhcclxuICBjdXJyZW50R2FtZS5jb25maWcuYXJlbmFIZWlnaHQgPSBoZWlnaHRcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZEhhemFyZCh4OiBudW1iZXIsIHk6IG51bWJlciwgcmFkaXVzOiBudW1iZXIsIGRhbWFnZTogbnVtYmVyKTogQ2lyY2xlRW50aXR5IHtcclxuICBpZiAoIWN1cnJlbnRHYW1lKSB0aHJvdyBuZXcgRXJyb3IoJ05vIGFjdGl2ZSBnYW1lJylcclxuICBcclxuICBjb25zdCBoYXphcmQgPSBjcmVhdGVDaXJjbGVFbnRpdHkoXHJcbiAgICBgaGF6YXJkXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YCxcclxuICAgIHgsXHJcbiAgICB5LFxyXG4gICAgcmFkaXVzLFxyXG4gICAgJ2hhemFyZCdcclxuICApXHJcbiAgXHJcbiAgaGF6YXJkLmlzU3RhdGljID0gdHJ1ZVxyXG4gIGhhemFyZC5kYW1hZ2UgPSBkYW1hZ2VcclxuICBoYXphcmQuaGVhbHRoID0gSW5maW5pdHlcclxuICBcclxuICBjdXJyZW50R2FtZS53b3JsZC5lbnRpdGllcy5zZXQoaGF6YXJkLmlkLCBoYXphcmQpXHJcbiAgXHJcbiAgcmV0dXJuIGhhemFyZFxyXG59XHJcblxyXG4vLyBQb3dlci11cCBzeXN0ZW1cclxubGV0IGxhc3RQb3dlcnVwU3Bhd24gPSAwXHJcbmNvbnN0IHBvd2VydXBTcGF3bkludGVydmFsID0gMTAwMDAgLy8gMTAgc2Vjb25kc1xyXG5cclxuZnVuY3Rpb24gc3Bhd25Qb3dlcnVwcyhnYW1lOiBHYW1lU3RhdGUpOiB2b2lkIHtcclxuICBjb25zdCBub3cgPSBEYXRlLm5vdygpXHJcbiAgaWYgKG5vdyAtIGxhc3RQb3dlcnVwU3Bhd24gPCBwb3dlcnVwU3Bhd25JbnRlcnZhbCkgcmV0dXJuXHJcbiAgXHJcbiAgLy8gRG9uJ3Qgc3Bhd24gdG9vIG1hbnkgcG93ZXJ1cHNcclxuICBjb25zdCBleGlzdGluZ1Bvd2VydXBzID0gQXJyYXkuZnJvbShnYW1lLndvcmxkLmVudGl0aWVzLnZhbHVlcygpKVxyXG4gICAgLmZpbHRlcihlID0+IGUudHlwZSA9PT0gJ3BpY2t1cCcpXHJcbiAgXHJcbiAgaWYgKGV4aXN0aW5nUG93ZXJ1cHMubGVuZ3RoID49IDMpIHJldHVyblxyXG4gIFxyXG4gIC8vIFJhbmRvbSBzcGF3biBsb2NhdGlvblxyXG4gIGNvbnN0IHggPSBNYXRoLnJhbmRvbSgpICogKGdhbWUuY29uZmlnLmFyZW5hV2lkdGggLSAxMDApICsgNTBcclxuICBjb25zdCB5ID0gTWF0aC5yYW5kb20oKSAqIChnYW1lLmNvbmZpZy5hcmVuYUhlaWdodCAtIDEwMCkgKyA1MFxyXG4gIFxyXG4gIGNvbnN0IHBvd2VydXBUeXBlcyA9IFsnaGVhbHRoJywgJ3NwZWVkJywgJ2RhbWFnZScsICdzaGllbGQnXVxyXG4gIGNvbnN0IHR5cGUgPSBwb3dlcnVwVHlwZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG93ZXJ1cFR5cGVzLmxlbmd0aCldXHJcbiAgXHJcbiAgY29uc3QgcG93ZXJ1cCA9IGNyZWF0ZUNpcmNsZUVudGl0eShcclxuICAgIGBwb3dlcnVwXyR7dHlwZX1fJHtEYXRlLm5vdygpfWAsXHJcbiAgICB4LFxyXG4gICAgeSxcclxuICAgIDEyLFxyXG4gICAgJ3BpY2t1cCdcclxuICApXHJcbiAgXHJcbiAgcG93ZXJ1cC5pc1N0YXRpYyA9IHRydWVcclxuICA7KHBvd2VydXAgYXMgYW55KS5wb3dlcnVwVHlwZSA9IHR5cGVcclxuICA7KHBvd2VydXAgYXMgYW55KS5zcGF3blRpbWUgPSBub3dcclxuICBwb3dlcnVwLmxpZmV0aW1lID0gMjAwMDAgLy8gMjAgc2Vjb25kc1xyXG4gIFxyXG4gIGdhbWUud29ybGQuZW50aXRpZXMuc2V0KHBvd2VydXAuaWQsIHBvd2VydXApXHJcbiAgbGFzdFBvd2VydXBTcGF3biA9IG5vd1xyXG59XHJcblxyXG4vLyBXaW4gY29uZGl0aW9uIGNoZWNraW5nXHJcbmZ1bmN0aW9uIGNoZWNrV2luQ29uZGl0aW9ucyhnYW1lOiBHYW1lU3RhdGUpOiB2b2lkIHtcclxuICBjb25zdCBhbGl2ZVBsYXllcnMgPSBBcnJheS5mcm9tKGdhbWUucGxheWVycy52YWx1ZXMoKSkuZmlsdGVyKHAgPT4gcC5oZWFsdGggPiAwKVxyXG4gIFxyXG4gIGlmIChhbGl2ZVBsYXllcnMubGVuZ3RoIDw9IDEgJiYgZ2FtZS5wbGF5ZXJzLnNpemUgPiAxKSB7XHJcbiAgICAvLyBHYW1lIG92ZXJcclxuICAgIGdhbWUuaXNSdW5uaW5nID0gZmFsc2VcclxuICAgIFxyXG4gICAgaWYgKGFsaXZlUGxheWVycy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgZ2FtZS53aW5uZXIgPSBhbGl2ZVBsYXllcnNbMF0uaWRcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gRGlzcGF0Y2ggZ2FtZSBvdmVyIGV2ZW50XHJcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2dhbWVPdmVyJywgeyBcclxuICAgICAgZGV0YWlsOiB7IFxyXG4gICAgICAgIHdpbm5lcjogZ2FtZS53aW5uZXIsXHJcbiAgICAgICAgc2NvcmVzOiBPYmplY3QuZnJvbUVudHJpZXMoZ2FtZS5zY29yZSksXHJcbiAgICAgICAgZHVyYXRpb246IERhdGUubm93KCkgLSBnYW1lLnN0YXJ0VGltZVxyXG4gICAgICB9XHJcbiAgICB9KSlcclxuICB9XHJcbn1cclxuXHJcbi8vIFNpbXBsZSBBSSBmb3IgYm90c1xyXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQm90QUkoYm90SWQ6IHN0cmluZyk6IHZvaWQge1xyXG4gIGlmICghY3VycmVudEdhbWUpIHJldHVyblxyXG4gIFxyXG4gIGNvbnN0IGJvdCA9IGN1cnJlbnRHYW1lLndvcmxkLmVudGl0aWVzLmdldChib3RJZClcclxuICBpZiAoIWJvdCB8fCAhKGJvdCBhcyBhbnkpLmlzQm90IHx8IGJvdC5oZWFsdGggPD0gMCkgcmV0dXJuXHJcbiAgXHJcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKVxyXG4gIGlmICgoYm90IGFzIGFueSkuYWlDb29sZG93biA+IG5vdykgcmV0dXJuXHJcbiAgXHJcbiAgLy8gRE8gTk9UIG1vZGlmeSB2ZWxvY2l0eSAtIGxldCBwaHlzaWNzIGhhbmRsZSBtb3ZlbWVudFxyXG4gIC8vIENoYXJhY3RlcnMgc2hvdWxkIG9ubHkgY2hhbmdlIGRpcmVjdGlvbiB3aGVuIGJvdW5jaW5nIG9mZiB3YWxscy9lbnRpdGllc1xyXG4gIFxyXG4gIC8vIEZpbmQgbmVhcmVzdCBlbmVteSBmb3IgdGFyZ2V0aW5nIChzaG9vdGluZyBvbmx5KVxyXG4gIGxldCBuZWFyZXN0RW5lbXk6IENpcmNsZUVudGl0eSB8IG51bGwgPSBudWxsXHJcbiAgbGV0IG5lYXJlc3REaXN0YW5jZSA9IEluZmluaXR5XHJcbiAgXHJcbiAgZm9yIChjb25zdCBbaWQsIGVudGl0eV0gb2YgY3VycmVudEdhbWUud29ybGQuZW50aXRpZXMpIHtcclxuICAgIGlmIChpZCA9PT0gYm90SWQgfHwgZW50aXR5LnR5cGUgIT09ICdwbGF5ZXInIHx8IGVudGl0eS5oZWFsdGggPD0gMCkgY29udGludWVcclxuICAgIFxyXG4gICAgY29uc3QgZGlzdGFuY2UgPSBWZWN0b3IuZGlzdGFuY2UoYm90LnBvc2l0aW9uLCBlbnRpdHkucG9zaXRpb24pXHJcbiAgICBpZiAoZGlzdGFuY2UgPCBuZWFyZXN0RGlzdGFuY2UpIHtcclxuICAgICAgbmVhcmVzdERpc3RhbmNlID0gZGlzdGFuY2VcclxuICAgICAgbmVhcmVzdEVuZW15ID0gZW50aXR5XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGlmIChuZWFyZXN0RW5lbXkgJiYgbmVhcmVzdERpc3RhbmNlIDwgNDAwKSB7XHJcbiAgICAvLyBQcmVkaWN0IHdoZXJlIHRoZSBlbmVteSB3aWxsIGJlIChsZWFkIHRoZSB0YXJnZXQpXHJcbiAgICBjb25zdCB0aW1lVG9SZWFjaCA9IG5lYXJlc3REaXN0YW5jZSAvIDQ1MCAvLyBBc3N1bWluZyBwcm9qZWN0aWxlIHNwZWVkIG9mIDQ1MFxyXG4gICAgY29uc3QgcHJlZGljdGVkUG9zaXRpb24gPSBWZWN0b3IuYWRkKFxyXG4gICAgICBuZWFyZXN0RW5lbXkucG9zaXRpb24sXHJcbiAgICAgIFZlY3Rvci5tdWx0aXBseShuZWFyZXN0RW5lbXkudmVsb2NpdHksIHRpbWVUb1JlYWNoKVxyXG4gICAgKVxyXG4gICAgXHJcbiAgICBjb25zdCBkaXJlY3Rpb25Ub1ByZWRpY3RlZCA9IFZlY3Rvci5zdWJ0cmFjdChwcmVkaWN0ZWRQb3NpdGlvbiwgYm90LnBvc2l0aW9uKVxyXG4gICAgY29uc3Qgbm9ybWFsaXplZERpcmVjdGlvbiA9IFZlY3Rvci5ub3JtYWxpemUoZGlyZWN0aW9uVG9QcmVkaWN0ZWQpXHJcbiAgICBcclxuICAgIC8vIEZpcmUgYXQgcHJlZGljdGVkIHBvc2l0aW9uXHJcbiAgICBjb25zdCBjaGFyYWN0ZXJUeXBlID0gYm90SWQuaW5jbHVkZXMoJ3ZvcnRleCcpID8gJ3ZvcnRleCcgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgYm90SWQuaW5jbHVkZXMoJ2d1YXJkaWFuJykgPyAnZ3VhcmRpYW4nIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGJvdElkLmluY2x1ZGVzKCdzdHJpa2VyJykgPyAnc3RyaWtlcicgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgYm90SWQuaW5jbHVkZXMoJ215c3RpYycpID8gJ215c3RpYycgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgYm90SWQuaW5jbHVkZXMoJ2ZsYW1lJykgPyAnZmxhbWUnIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGJvdElkLmluY2x1ZGVzKCdmcm9zdCcpID8gJ2Zyb3N0JyA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBib3RJZC5pbmNsdWRlcygnc2hhZG93JykgPyAnc2hhZG93JyA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBib3RJZC5pbmNsdWRlcygndGl0YW4nKSA/ICd0aXRhbicgOiAnZGVmYXVsdCdcclxuICAgIFxyXG4gICAgLy8gQWRkIHNsaWdodCByYW5kb20gc3ByZWFkIGZvciBtb3JlIGR5bmFtaWMgY29tYmF0XHJcbiAgICBjb25zdCBhaW1PZmZzZXQgPSBWZWN0b3IuY3JlYXRlKFxyXG4gICAgICAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiA1MCxcclxuICAgICAgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogNTBcclxuICAgIClcclxuICAgIGNvbnN0IGZpbmFsQWltRGlyZWN0aW9uID0gVmVjdG9yLmFkZChub3JtYWxpemVkRGlyZWN0aW9uLCBWZWN0b3IubXVsdGlwbHkoYWltT2Zmc2V0LCAwLjA1KSlcclxuICAgIFxyXG4gICAgZmlyZUNoYXJhY3RlclNwZWNpZmljQXR0YWNrKGJvdElkLCBmaW5hbEFpbURpcmVjdGlvbiwgY2hhcmFjdGVyVHlwZSlcclxuICAgIDsoYm90IGFzIGFueSkuYWlDb29sZG93biA9IG5vdyArIDMwMCAvLyBGYXN0IGZpcmluZyByYXRlXHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIE9jY2FzaW9uYWxseSBzaG9vdCByYW5kb21seSB3aGVuIG5vIGVuZW1pZXMgbmVhcmJ5XHJcbiAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuMDEpIHsgLy8gMSUgY2hhbmNlIGZvciByYW5kb20gc2hvdHNcclxuICAgICAgY29uc3QgcmFuZG9tRGlyZWN0aW9uID0gVmVjdG9yLmNyZWF0ZShcclxuICAgICAgICAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAyLFxyXG4gICAgICAgIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDJcclxuICAgICAgKVxyXG4gICAgICBcclxuICAgICAgY29uc3QgY2hhcmFjdGVyVHlwZSA9IGJvdElkLmluY2x1ZGVzKCd2b3J0ZXgnKSA/ICd2b3J0ZXgnIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90SWQuaW5jbHVkZXMoJ2d1YXJkaWFuJykgPyAnZ3VhcmRpYW4nIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90SWQuaW5jbHVkZXMoJ3N0cmlrZXInKSA/ICdzdHJpa2VyJyA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdElkLmluY2x1ZGVzKCdteXN0aWMnKSA/ICdteXN0aWMnIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90SWQuaW5jbHVkZXMoJ2ZsYW1lJykgPyAnZmxhbWUnIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90SWQuaW5jbHVkZXMoJ2Zyb3N0JykgPyAnZnJvc3QnIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90SWQuaW5jbHVkZXMoJ3NoYWRvdycpID8gJ3NoYWRvdycgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBib3RJZC5pbmNsdWRlcygndGl0YW4nKSA/ICd0aXRhbicgOiAnZGVmYXVsdCdcclxuICAgICAgXHJcbiAgICAgIGZpcmVDaGFyYWN0ZXJTcGVjaWZpY0F0dGFjayhib3RJZCwgVmVjdG9yLm5vcm1hbGl6ZShyYW5kb21EaXJlY3Rpb24pLCBjaGFyYWN0ZXJUeXBlKVxyXG4gICAgICA7KGJvdCBhcyBhbnkpLmFpQ29vbGRvd24gPSBub3cgKyA4MDBcclxuICAgIH1cclxuICB9XHJcbn1cclxuICAgICAgXHJcbiAgICAgIC8vIEFpbSBhdCBwcmVkaWN0ZWQgcG9zaXRpb24gd2l0aCBzb21lIGFjY3VyYWN5IHZhcmlhdGlvblxyXG4vLyBDaGFyYWN0ZXItc3BlY2lmaWMgYXR0YWNrIGZ1bmN0aW9uXHJcbmZ1bmN0aW9uIGZpcmVDaGFyYWN0ZXJTcGVjaWZpY0F0dGFjayhib3RJZDogc3RyaW5nLCBkaXJlY3Rpb246IFZlY3RvciwgY2hhcmFjdGVyVHlwZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgc3dpdGNoIChjaGFyYWN0ZXJUeXBlKSB7XHJcbiAgICBjYXNlICd2b3J0ZXgnOlxyXG4gICAgICAvLyBQbGFzbWEgVm9ydGV4IC0gZmlyZXMgc3Bpbm5pbmcgcHJvamVjdGlsZXNcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcclxuICAgICAgICBjb25zdCBhbmdsZSA9IChpIC0gMSkgKiAwLjMgLy8gU3ByZWFkIHNob3RzXHJcbiAgICAgICAgY29uc3Qgcm90YXRlZERpciA9IFZlY3Rvci5jcmVhdGUoXHJcbiAgICAgICAgICBkaXJlY3Rpb24ueCAqIE1hdGguY29zKGFuZ2xlKSAtIGRpcmVjdGlvbi55ICogTWF0aC5zaW4oYW5nbGUpLFxyXG4gICAgICAgICAgZGlyZWN0aW9uLnggKiBNYXRoLnNpbihhbmdsZSkgKyBkaXJlY3Rpb24ueSAqIE1hdGguY29zKGFuZ2xlKVxyXG4gICAgICAgIClcclxuICAgICAgICBmaXJlUHJvamVjdGlsZShib3RJZCwgcm90YXRlZERpciwgeyBiYXNlRGFtYWdlOiA4LCBwcm9qZWN0aWxlU3BlZWQ6IDUwMCB9KSAvLyBSZWR1Y2VkIGZyb20gMjAgdG8gOFxyXG4gICAgICB9XHJcbiAgICAgIGJyZWFrXHJcbiAgICAgIFxyXG4gICAgY2FzZSAnc3RyaWtlcic6XHJcbiAgICAgIC8vIExpZ2h0bmluZyBTdHJpa2VyIC0gZmFzdCBzaW5nbGUgc2hvdFxyXG4gICAgICBmaXJlUHJvamVjdGlsZShib3RJZCwgZGlyZWN0aW9uLCB7IGJhc2VEYW1hZ2U6IDEyLCBwcm9qZWN0aWxlU3BlZWQ6IDcwMCB9KSAvLyBSZWR1Y2VkIGZyb20gMzUgdG8gMTJcclxuICAgICAgYnJlYWtcclxuICAgICAgXHJcbiAgICBjYXNlICdndWFyZGlhbic6XHJcbiAgICAgIC8vIFN0ZWVsIEd1YXJkaWFuIC0gc2xvd2VyIGJ1dCBwb3dlcmZ1bCBzaG90XHJcbiAgICAgIGZpcmVQcm9qZWN0aWxlKGJvdElkLCBkaXJlY3Rpb24sIHsgYmFzZURhbWFnZTogMTUsIHByb2plY3RpbGVTcGVlZDogMzAwLCByYWRpdXM6IDggfSkgLy8gUmVkdWNlZCBmcm9tIDQwIHRvIDE1XHJcbiAgICAgIGJyZWFrXHJcbiAgICAgIFxyXG4gICAgY2FzZSAnbXlzdGljJzpcclxuICAgICAgLy8gTXlzdGljIE9yYiAtIG1hZ2ljYWwgcHJvamVjdGlsZSB3aXRoIHNsaWdodCBob21pbmdcclxuICAgICAgY29uc3QgYWltT2Zmc2V0ID0gVmVjdG9yLmNyZWF0ZShcclxuICAgICAgICAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAyMCxcclxuICAgICAgICAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAyMFxyXG4gICAgICApXHJcbiAgICAgIGNvbnN0IGFpbURpcmVjdGlvbiA9IFZlY3Rvci5hZGQoZGlyZWN0aW9uLCBWZWN0b3IubXVsdGlwbHkoYWltT2Zmc2V0LCAwLjA1KSlcclxuICAgICAgZmlyZVByb2plY3RpbGUoYm90SWQsIGFpbURpcmVjdGlvbiwgeyBiYXNlRGFtYWdlOiAxMCwgcHJvamVjdGlsZVNwZWVkOiA0NTAgfSkgLy8gUmVkdWNlZCBmcm9tIDI1IHRvIDEwXHJcbiAgICAgIGJyZWFrXHJcbiAgICAgIFxyXG4gICAgY2FzZSAnZmxhbWUnOlxyXG4gICAgICAvLyBGaXJlIFdhcnJpb3IgLSBmaXJlIGJ1cnN0IChtdWx0aXBsZSBzbWFsbCBwcm9qZWN0aWxlcylcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcclxuICAgICAgICBjb25zdCBhbmdsZSA9IChpIC0gMikgKiAwLjJcclxuICAgICAgICBjb25zdCByb3RhdGVkRGlyID0gVmVjdG9yLmNyZWF0ZShcclxuICAgICAgICAgIGRpcmVjdGlvbi54ICogTWF0aC5jb3MoYW5nbGUpIC0gZGlyZWN0aW9uLnkgKiBNYXRoLnNpbihhbmdsZSksXHJcbiAgICAgICAgICBkaXJlY3Rpb24ueCAqIE1hdGguc2luKGFuZ2xlKSArIGRpcmVjdGlvbi55ICogTWF0aC5jb3MoYW5nbGUpXHJcbiAgICAgICAgKVxyXG4gICAgICAgIGZpcmVQcm9qZWN0aWxlKGJvdElkLCByb3RhdGVkRGlyLCB7IGJhc2VEYW1hZ2U6IDYsIHByb2plY3RpbGVTcGVlZDogNDAwLCByYWRpdXM6IDQgfSkgLy8gUmVkdWNlZCBmcm9tIDE1IHRvIDZcclxuICAgICAgfVxyXG4gICAgICBicmVha1xyXG4gICAgICBcclxuICAgIGNhc2UgJ2Zyb3N0JzpcclxuICAgICAgLy8gSWNlIEtuaWdodCAtIHNsb3cgYnV0IGxhcmdlIHByb2plY3RpbGVcclxuICAgICAgZmlyZVByb2plY3RpbGUoYm90SWQsIGRpcmVjdGlvbiwgeyBiYXNlRGFtYWdlOiAxMiwgcHJvamVjdGlsZVNwZWVkOiAyNTAsIHJhZGl1czogMTAgfSkgLy8gUmVkdWNlZCBmcm9tIDMwIHRvIDEyXHJcbiAgICAgIGJyZWFrXHJcbiAgICAgIFxyXG4gICAgY2FzZSAnc2hhZG93JzpcclxuICAgICAgLy8gU2hhZG93IEFzc2Fzc2luIC0gcmFwaWQgc21hbGwgc2hvdHNcclxuICAgICAgZmlyZVByb2plY3RpbGUoYm90SWQsIGRpcmVjdGlvbiwgeyBiYXNlRGFtYWdlOiAxMCwgcHJvamVjdGlsZVNwZWVkOiA2MDAsIHJhZGl1czogMyB9KSAvLyBSZWR1Y2VkIGZyb20gMjUgdG8gMTBcclxuICAgICAgYnJlYWtcclxuICAgICAgXHJcbiAgICBjYXNlICd0aXRhbic6XHJcbiAgICAgIC8vIElyb24gVGl0YW4gLSBtYXNzaXZlIHNsb3cgcHJvamVjdGlsZVxyXG4gICAgICBmaXJlUHJvamVjdGlsZShib3RJZCwgZGlyZWN0aW9uLCB7IGJhc2VEYW1hZ2U6IDE4LCBwcm9qZWN0aWxlU3BlZWQ6IDIwMCwgcmFkaXVzOiAxMiB9KSAvLyBSZWR1Y2VkIGZyb20gNTAgdG8gMThcclxuICAgICAgYnJlYWtcclxuICAgICAgXHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICAvLyBEZWZhdWx0IGF0dGFja1xyXG4gICAgICBmaXJlUHJvamVjdGlsZShib3RJZCwgZGlyZWN0aW9uLCB7IGJhc2VEYW1hZ2U6IDI1LCBwcm9qZWN0aWxlU3BlZWQ6IDQ1MCB9KVxyXG4gICAgICBicmVha1xyXG4gIH1cclxufVxyXG5cclxuLy8gR2FtZSBzdGF0ZSBhY2Nlc3NvcnNcclxuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRHYW1lKCk6IEdhbWVTdGF0ZSB8IG51bGwge1xyXG4gIHJldHVybiBjdXJyZW50R2FtZVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0R2FtZUVudGl0aWVzKCk6IENpcmNsZUVudGl0eVtdIHtcclxuICBpZiAoIWN1cnJlbnRHYW1lKSByZXR1cm4gW11cclxuICByZXR1cm4gQXJyYXkuZnJvbShjdXJyZW50R2FtZS53b3JsZC5lbnRpdGllcy52YWx1ZXMoKSlcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBsYXllckVudGl0eShwbGF5ZXJJZDogc3RyaW5nKTogQ2lyY2xlRW50aXR5IHwgbnVsbCB7XHJcbiAgaWYgKCFjdXJyZW50R2FtZSkgcmV0dXJuIG51bGxcclxuICByZXR1cm4gY3VycmVudEdhbWUud29ybGQuZW50aXRpZXMuZ2V0KHBsYXllcklkKSB8fCBudWxsXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0dhbWVSdW5uaW5nKCk6IGJvb2xlYW4ge1xyXG4gIHJldHVybiBjdXJyZW50R2FtZT8uaXNSdW5uaW5nIHx8IGZhbHNlXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRHYW1lU2NvcmUocGxheWVySWQ6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgaWYgKCFjdXJyZW50R2FtZSkgcmV0dXJuIDBcclxuICByZXR1cm4gY3VycmVudEdhbWUuc2NvcmUuZ2V0KHBsYXllcklkKSB8fCAwXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRTY29yZShwbGF5ZXJJZDogc3RyaW5nLCBwb2ludHM6IG51bWJlcik6IHZvaWQge1xyXG4gIGlmICghY3VycmVudEdhbWUpIHJldHVyblxyXG4gIGNvbnN0IGN1cnJlbnRTY29yZSA9IGN1cnJlbnRHYW1lLnNjb3JlLmdldChwbGF5ZXJJZCkgfHwgMFxyXG4gIGN1cnJlbnRHYW1lLnNjb3JlLnNldChwbGF5ZXJJZCwgY3VycmVudFNjb3JlICsgcG9pbnRzKVxyXG59XHJcbiJdLCJuYW1lcyI6WyJjcmVhdGVQaHlzaWNzV29ybGQiLCJjcmVhdGVDaXJjbGVFbnRpdHkiLCJjcmVhdGVQcm9qZWN0aWxlIiwic2ltdWxhdGVTdGVwIiwiVmVjdG9yIiwiYWRkRm9yY2UiLCJjdXJyZW50R2FtZSIsImdhbWVMb29wIiwibGFzdEZyYW1lVGltZSIsInN0YXJ0R2FtZSIsImNvbmZpZyIsInN0b3BHYW1lIiwid29ybGQiLCJhcmVuYVdpZHRoIiwiYXJlbmFIZWlnaHQiLCJpc1J1bm5pbmciLCJpc1BhdXNlZCIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJwbGF5ZXJzIiwiTWFwIiwic2NvcmUiLCJyb3VuZE51bWJlciIsInJlc3VtZUdhbWUiLCJwZXJmb3JtYW5jZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInVwZGF0ZUdhbWUiLCJwYXVzZUdhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImN1cnJlbnRUaW1lIiwiZGVsdGFUaW1lIiwiTWF0aCIsIm1pbiIsImlkIiwiZW50aXR5IiwiZW50aXRpZXMiLCJpc0JvdCIsImhlYWx0aCIsInVwZGF0ZUJvdEFJIiwiY2hlY2tXaW5Db25kaXRpb25zIiwic3Bhd25QbGF5ZXIiLCJwbGF5ZXJJZCIsIngiLCJ5IiwiY2hhcmFjdGVyRGF0YSIsInBsYXllciIsInN0YXRzIiwiZGVmZW5zZSIsIm1heEhlYWx0aCIsImRhbWFnZSIsIm1hc3MiLCJtYXgiLCJzcGVlZCIsInNldCIsInNwYXduQm90IiwiYm90SWQiLCJkaWZmaWN1bHR5IiwiYm90IiwiaW5pdGlhbFNwZWVkIiwicmFuZG9tIiwiaW5pdGlhbEFuZ2xlIiwiUEkiLCJ2ZWxvY2l0eSIsImNyZWF0ZSIsImNvcyIsInNpbiIsImFpVGFyZ2V0IiwiYWlDb29sZG93biIsImZpcmVQcm9qZWN0aWxlIiwic2hvb3RlcklkIiwiZGlyZWN0aW9uIiwid2VhcG9uRGF0YSIsInNob290ZXIiLCJnZXQiLCJzcGF3bk9mZnNldCIsIm11bHRpcGx5Iiwibm9ybWFsaXplIiwicmFkaXVzIiwic3Bhd25Qb3MiLCJhZGQiLCJwb3NpdGlvbiIsInByb2plY3RpbGVTcGVlZCIsImxpZmV0aW1lIiwicHJvamVjdGlsZSIsInRvU3RyaW5nIiwic3Vic3RyIiwiYmFzZURhbWFnZSIsInBpZXJjaW5nIiwiaGl0c1JlbWFpbmluZyIsInNwYXduVGltZSIsIm1vdmVQbGF5ZXIiLCJmb3JjZSIsImlzU3RhdGljIiwibW92ZUZvcmNlIiwidGVsZXBvcnRQbGF5ZXIiLCJzZXRBcmVuYVNpemUiLCJ3aWR0aCIsImhlaWdodCIsImJvdW5kcyIsImFkZEhhemFyZCIsIkVycm9yIiwiaGF6YXJkIiwiSW5maW5pdHkiLCJsYXN0UG93ZXJ1cFNwYXduIiwicG93ZXJ1cFNwYXduSW50ZXJ2YWwiLCJzcGF3blBvd2VydXBzIiwiZ2FtZSIsImV4aXN0aW5nUG93ZXJ1cHMiLCJBcnJheSIsImZyb20iLCJ2YWx1ZXMiLCJmaWx0ZXIiLCJlIiwidHlwZSIsImxlbmd0aCIsInBvd2VydXBUeXBlcyIsImZsb29yIiwicG93ZXJ1cCIsInBvd2VydXBUeXBlIiwiYWxpdmVQbGF5ZXJzIiwicCIsInNpemUiLCJ3aW5uZXIiLCJ3aW5kb3ciLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJzY29yZXMiLCJPYmplY3QiLCJmcm9tRW50cmllcyIsImR1cmF0aW9uIiwibmVhcmVzdEVuZW15IiwibmVhcmVzdERpc3RhbmNlIiwiZGlzdGFuY2UiLCJ0aW1lVG9SZWFjaCIsInByZWRpY3RlZFBvc2l0aW9uIiwiZGlyZWN0aW9uVG9QcmVkaWN0ZWQiLCJzdWJ0cmFjdCIsIm5vcm1hbGl6ZWREaXJlY3Rpb24iLCJjaGFyYWN0ZXJUeXBlIiwiaW5jbHVkZXMiLCJhaW1PZmZzZXQiLCJmaW5hbEFpbURpcmVjdGlvbiIsImZpcmVDaGFyYWN0ZXJTcGVjaWZpY0F0dGFjayIsInJhbmRvbURpcmVjdGlvbiIsImkiLCJhbmdsZSIsInJvdGF0ZWREaXIiLCJhaW1EaXJlY3Rpb24iLCJnZXRDdXJyZW50R2FtZSIsImdldEdhbWVFbnRpdGllcyIsImdldFBsYXllckVudGl0eSIsImlzR2FtZVJ1bm5pbmciLCJnZXRHYW1lU2NvcmUiLCJhZGRTY29yZSIsInBvaW50cyIsImN1cnJlbnRTY29yZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/game.ts\n"));

/***/ })

});